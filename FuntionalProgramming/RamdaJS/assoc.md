## assoc

> Makes a shallow clone of an object
- 오브젝트를 복사하며 얕은 복사를 한다.

> setting or overriding the specified property with the given value.
- 주어진 값으로 지정한 프로퍼티를 세팅(새롭게 추가)하거나 기존 프로퍼티 값을 오버라이딩한다.

> Note that this copies and flattens prototype properties onto the new object as well.
- 반환되는 새 오브젝트는 프로토타입 프로퍼티도 새 오브젝트에 복사 및 병합(flattens)되어 있다.

> All non-primitive properties are copied by reference.
- 프리미티브 타입이 아닌 값을 가지는 프로퍼티는 참조값이 복사된다. (주소가 복사되고 주소가 가리키는 실제 값이 복사되지 않는다.)

### 설명

- 오브젝트에서 특정 프로퍼티를 지정하여 프로퍼티의 값이 없다면 새로 추가하고, 프로퍼티 값이 있다면 덮어 씌우도록 한다.
- 오브젝트의 프로토타입은 해당 프로토타입에 연결된 여러 오브젝트가 존재할 수 있다. 하나의 프로토타입을 여러 오브젝트가 공유해야 하므로 프로토타입은 참조 방식으로 연결 되어 있다. 객체에는 존재하지 않는 어떤 멤버를 접근할 때, 자바스크립트는 프로토타입 객체에 해당 멤버가 존재하면 접근하고 멤버가 없다면 프로토타입에 연결된 프로토타입에 접근할 멤버가 있는지 접근할 멤버가 존재할 때까지 연결된 프로토타입을 계속 탐색하여 프로토타입의 프로토타입을 확인하는 프로토타입 체이닝을 사용한 탐색을 한다. 그런데 assoc 함수에 의해 복사된 오브젝트는 프로토타입 객체에 연결되지 않고, 프로토타입 체이닝으로 연결된 프로토타입들이 가진 멤버를 모두 갖는 객체를 생성하는데 이를 'flatten'으로 표현을 한다. 'flatten'이란 깊이가 있는 대상의 깊이를 없애는 기능을 하며, 배열의 경우에는 `[1, [2,3], [4,[5,6],7]]`의 배열을 `[1,2,3,4,5,6,7]`으로 `{a: 1, b: {c: 2, d: 3}, e: {f: {g: 4}, h: 5}}`는 `{'a': 1, 'b.c': 2, 'b.d': 3, 'e.f.g': 4, 'e.h: 5'}`으로 뭔가 타고 타고 넘어가는 접근을 한 단계의 접근으로 줄인다. 이를 프로토타입 체인에 적용하면, 프로토타입에 접근한 후 또 다시 프로토타입을 접근하는 과정을 한 단계의 접근으로 줄인다는 것이고, 이는 최초로 접근하는 오브젝트가 프로토타입의 모든 멤버를 가지고 있다는 의미를 가진다.
- 오브젝트의 키에 할당된 값은 논-프리미티브 타입이 할당되어 있는 경우가 있는데, 이 오브젝트는 assoc 함수에 의해 복사가 될 때, 동일한 원본을 가리키는 주소값이 복사된 값을 키에 매핑한다.

```
R.assoc(프로퍼티명, '프로퍼티 값', 오브젝트)
```
- 첫 번째 인자로 프로퍼티명을 넣는다.
- 두 번째 인자로 프로퍼티 값을 넣는다.
- 세 번째 인자로 첫 번째 인자와 두 번째 인자로 받은 프로퍼티 이름과 값을 넣을 오브젝트를 할당한다.
- 세 번째 인자로 받은 오브젝트에 첫 번째 인자의 프로퍼티가 없으면 지정한 프로퍼티가 추가하고 첫 번째 인자의 프로퍼티가 있으면 지정한 프로퍼티의 값을 덮어씌운 오브젝트를 반환한다.

### 문법

```
R.assoc(prop, val, obj): Object
```
- `prop`: The property name to set
- `val`: The new value
- `obj`: The object to clone
- Returns Object A new object equivalent to the original except for the changed property.

### 표현

```
Idx → a → {k: v} → {k: v}
Idx = String | Int
```
- `Idx = String | Int`: Idx는 index의 약자로 프로퍼티명에 해당한다. 오브젝트의 프로퍼티이므로 가능한 타입은 문자열과 정수(양의 정수)가 된다.
- `Idx → `: 대상 프로퍼티를 지정한다.
- `→ a →`: 첫 번째 인자로 지정한 프로퍼티에 세팅할 값을 지정한다.
- `→ {k: v} →`: 대상 오브젝트를 지정한다. 이 오브젝트는 키(k)-벨류(v) 형태의 오브젝트이다.
- `→ {k: v}`: 오브젝트를 반환한다. 이때 반환 된 오브젝트는 `→ {k: v} →`의 오브젝트에서 지정한 프로퍼티의 값이 세팅할 값으로 대체된 오브젝트를 반환한다.

### 예제

```js
R.assoc('c', 3, {a: 1, b: 2}); //=> {a: 1, b: 2, c: 3}
```
- `{a: 1, b: 2}`라는 오브젝트에 `c: 3`를 넣은 오브젝트를 반환하여 `{a: 1, b: 2, c: 3}`가 된다.

## References
- https://ramdajs.com/docs/#assoc
- https://github.com/ramda/ramda/blob/master/test/assoc.js
- https://github.com/ramda/types/blob/develop/types/assoc.d.ts
